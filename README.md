# ì½˜ì„œíŠ¸ ì˜ˆì•½ ì„œë¹„ìŠ¤
### ğŸ“œERD, ë§ˆì¼ìŠ¤í†¤, ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì€ document í´ë”ì— ìˆìŠµë‹ˆë‹¤
<br>
<br>

**1. ëŒ€ê¸°ì—´ í† í° ë°œê¸‰ API**
----
- ì½˜ì„œíŠ¸ ì˜ˆì•½ì„ í•˜ê¸°ìœ„í•œ ëŒ€ê¸°ì—´ì˜ í† í°ì„ ë°œê¸‰<br>
- í† í°ì€ ìœ ì €ì˜ UUID ì™€ í•´ë‹¹ ìœ ì €ì˜ ëŒ€ê¸°ì—´ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì •ë³´ ( ëŒ€ê¸° ìˆœì„œ or ì”ì—¬ ì‹œê°„ ë“± ) ë¥¼ í¬í•¨<br>
- ëª¨ë“  API ëŠ” ìœ„ í† í°ì„ ì´ìš©í•´ ëŒ€ê¸°ì—´ ê²€ì¦ì„ í†µê³¼í•´ì•¼ ì´ìš© ê°€ëŠ¥

## Request
* **URL**


| ë©”ì„œë“œ  | ìš”ì²­ URL               |
|:----:|:--------------|
| POST | /token/issued |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |

* **Request Element**

| íŒŒë¼ë¯¸í„°   | íƒ€ì…   | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…      |
|:-------|:-----|:----:|:--------|
| userId | Long |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸ |


## Response
  ```json
    {
        "data": {
          "userId": 1,
          "queueToken": "waitingToken1111111112222222"
        },
        "success": true
      }
  ```


**2. ì˜ˆì•½ ê°€ëŠ¥ ë‚ ì§œ ì¡°íšŒ API**
----
- í•´ë‹¹ ì½˜ì„œíŠ¸ì˜ ì˜ˆì•½ê°€ëŠ¥í•œ ë‚ ì§œëª©ë¡ ì¡°íšŒ

## Request
* **URL**


| ë©”ì„œë“œ  | ìš”ì²­ URL         |
|:----:|:---------------|
| GET  | /concert/dates |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |
| Queue-Token | String |  O   | ëŒ€ê¸°ì—´ í† í°           |

* **Request Element**

| íŒŒë¼ë¯¸í„°      | íƒ€ì…   | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…                   |
|:----------|:-----|:----:|:---------------------|
| concertId | Long |  O   | ì½˜ì„œíŠ¸ ê³ ìœ ë²ˆí˜¸ |


## Response
  ```json
    {
      "data": {
        "concerts": [
          {
            "concertId": 100,
            "title": "ì§±êµ¬ëŠ” ëª»ë§ë ¤ ê·¹ì¥íŒ 9ê¸° ì–´ë¥¸ì œêµ­ì˜ ì—­ìŠµ",
            "concertDate": "2024-07-04 22:30",
            "description": "ê°œê¿€ì¼",
            "price": 15000,
            "seats": 50
          },
          {
            "concertId": 100,
            "title": "ì§±êµ¬ëŠ” ëª»ë§ë ¤ ê·¹ì¥íŒ 9ê¸° ì–´ë¥¸ì œêµ­ì˜ ì—­ìŠµ",
            "concertDate": "2024-07-05 19:30",
            "description": "ê°œê¿€ì¼",
            "price": 15000,
            "seats": 50
          },
          {
            "concertId": 100,
            "title": "ì§±êµ¬ëŠ” ëª»ë§ë ¤ ê·¹ì¥íŒ 9ê¸° ì–´ë¥¸ì œêµ­ì˜ ì—­ìŠµ",
            "concertDate": "2024-07-06 20:30",
            "description": "ê°œê¿€ì¼",
            "price": 15000,
            "seats": 50
          }
        ]
      },
      "success": true
    }
  ```

**3. ì˜ˆì•½ ê°€ëŠ¥ ì¢Œì„ ì¡°íšŒ API**
----
- ì˜ˆì•½ê°€ëŠ¥í•œ ë‚ ì§œì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì˜ˆì•½ê°€ëŠ¥í•œ ì¢Œì„ì •ë³´ ì¡°íšŒ<br>
- ì¢Œì„ì •ë³´ëŠ” 1~50ê¹Œì§€ì˜ ë²ˆí˜¸ë¡œ ê´€ë¦¬

## Request
* **URL**


| ë©”ì„œë“œ | ìš”ì²­ URL         |
|:---:|:---------------|
| GET | /concert/seats |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |
| Queue-Token | String |  O   | ëŒ€ê¸°ì—´ í† í°           |

* **Request Element**

| íŒŒë¼ë¯¸í„°      | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…                               |
|:----------|:-------|:----:|:---------------------------------|
| concertId | Long   |  O   | ì½˜ì„œíŠ¸ ê³ ìœ ë²ˆí˜¸             |
| concertDateTime | String |  O   | ì½˜ì„œíŠ¸ ë‚ ì§œ (yyyy-MM-dd HH:mm)    |


## Response
  ```json
    {
      "data": {
        "seats": [
          {
            "id": 1,
            "concertId": 100,
            "seatNumber": 22,
            "status": "EMPTY",
            "updatedAt": "2024-07-04T18:53:17.9570689"
          },
          {
            "id": 2,
            "concertId": 100,
            "seatNumber": 23,
            "status": "EMPTY",
            "updatedAt": "2024-07-04T18:53:17.9570689"
          },
          {
            "id": 3,
            "concertId": 100,
            "seatNumber": 24,
            "status": "EMPTY",
            "updatedAt": "2024-07-04T18:53:17.9570689"
          },
          {
            "id": 4,
            "concertId": 100,
            "seatNumber": 25,
            "status": "EMPTY",
            "updatedAt": "2024-07-04T18:53:17.9570689"
          }
        ]
      },
      "success": true
    }
  ```

**4. ì¢Œì„ ì˜ˆì•½ ìš”ì²­ API**
----
- ë‚ ì§œì™€ ì¢Œì„ ì •ë³´ë¥¼ ì…ë ¥ë°›ì•„ ì¢Œì„ì„ ì˜ˆì•½ ì²˜ë¦¬<br>
- ì¢Œì„ ì˜ˆì•½ê³¼ ë™ì‹œì— í•´ë‹¹ ì¢Œì„ì€ ê·¸ ìœ ì €ì—ê²Œ ì•½ 5ë¶„ê°„ ì„ì‹œ ë°°ì •<br>
- ë§Œì•½ ë°°ì • ì‹œê°„ ë‚´ì— ê²°ì œê°€ ì™„ë£Œë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¢Œì„ì— ëŒ€í•œ ì„ì‹œ ë°°ì •ì€ í•´ì œë˜ë©° <br>
ë‹¤ë¥¸ ì‚¬ìš©ìëŠ” ì˜ˆì•½í•  ìˆ˜ ì—†ìŒ
## Request
* **URL**


| ë©”ì„œë“œ  | ìš”ì²­ URL               |
|:----:|:---------------------|
| POST | /concert/reservation |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |
| Queue-Token | String |  O   | ëŒ€ê¸°ì—´ í† í°           |

* **Request Element**

| íŒŒë¼ë¯¸í„°            | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…                        |
|:----------------|:-------|:----:|:--------------------------|
| concertId       | Long   |  O   | ì½˜ì„œíŠ¸ ê³ ìœ ë²ˆí˜¸                  |
| userId          | Long   |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸                   |
| concertDateTime | String |  O   | ì½˜ì„œíŠ¸ ë‚ ì§œ (yyyy-MM-dd HH:mm) |
| seatNo          | Long   |  O   | ì¢Œì„ë²ˆí˜¸                      |



## Response
  ```json
    {
      "data": {
        "seat": {
          "id": 1,
          "concertId": 100,
          "seatNumber": 1,
          "status": "RESERVED",
          "updatedAt": "2024-07-04T18:56:05.0797596"
        },
        "result": true
      },
      "success": true
    }
  ```

**5. ì”ì•¡ ì¶©ì „ API**
----
- ì‚¬ìš©ì ì‹ë³„ì ë° ì¶©ì „í•  ê¸ˆì•¡ì„ ë°›ì•„ ì‚¬ìš©ìì˜ ì”ì•¡ì„ ì¶©ì „

## Request
* **URL**

|  ë©”ì„œë“œ  | ìš”ì²­ URL       |
|:-----:|:-------------|
| PATCH | /cash/charge |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |

* **Request Element**

| íŒŒë¼ë¯¸í„°   | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…      |
|:-------|:-------|:----:|:--------|
| userId | Long   |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸ |
| amount | Long   |  O   | ì¶©ì „í•  ê¸ˆì•¡  |


## Response
  ```json
{
    "data": {
      "balance": {
        "userId": 1,
        "balance": 10000,
        "updatedAt": "2024-07-04T18:48:42.8808534"
      }
    },
    "success": true
}
  ```

**6. ì”ì•¡ ì¡°íšŒ API**
----
- ì‚¬ìš©ì ì‹ë³„ìë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì”ì•¡ì„ ì¡°íšŒ

## Request
* **URL**

| ë©”ì„œë“œ | ìš”ì²­ URL        |
|:---:|:--------------|
| GET | /cash/balance |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |

* **Request Element**

| íŒŒë¼ë¯¸í„°   | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…      |
|:-------|:-------|:----:|:--------|
| userId | Long   |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸ |


## Response
  ```json
    {
      "data": {
        "balance": {
          "userId": 1,
          "balance": 10000,
          "updatedAt": "2024-07-04T18:48:42.8808534"
        }
      },
      "success": true
    }
  ```


**7. ê²°ì œ API**
----
- ê²°ì œ ì²˜ë¦¬í•˜ê³  ê²°ì œ ë‚´ì—­ì„ ìƒì„±<br>
- ê²°ì œ ì™„ë£Œ ì‹œ ì¢Œì„ì„ ë°°ì •í•˜ê³  í† í°ì„ ë§Œë£Œì‹œí‚¨ë‹¤

## Request
* **URL**

| ë©”ì„œë“œ  | ìš”ì²­ URL        |
|:----:|:--------------|
| POST | /cash/payment |

* **Request Header**

| íŒŒë¼ë¯¸í„°          | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…               |
|:--------------|:----|:----:|:-----------------|
| Content-Type  | String |  O   | application/json |
| Queue-Token | String |  O   | ëŒ€ê¸°ì—´ í† í°           |

* **Request Element**

| íŒŒë¼ë¯¸í„°      | íƒ€ì…     | í•„ìˆ˜ì—¬ë¶€ | ì„¤ëª…   |
|:----------|:-------|:----:|:--------|
| userId    | Long   |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸ |
| concertId | Long   |  O   | ìœ ì € ê³ ìœ ë²ˆí˜¸ |
| concertDateTime | String |  O   | ì½˜ì„œíŠ¸ ë‚ ì§œ (yyyy-MM-dd HH:mm) |
| seatNo          | Long   |  O   | ì¢Œì„ë²ˆí˜¸                      |


## Response
  ```json
{
    "data": {
        "user": {
          "userId": 1,
          "userName": "ì§±êµ¬",
          "phone": "010-1234-5678",
          "email": "Jjang9@example.com",
          "balance": {
            "userId": 1,
            "balance": 10000,
            "updatedAt": "2024-07-04T18:54:43.6158489"
          }
        },
        "reservation": {
          "reservationId": 1,
          "concert": {
            "concertId": 100,
            "title": "ì§±êµ¬ëŠ” ëª»ë§ë ¤ ê·¹ì¥íŒ 9ê¸° ì–´ë¥¸ì œêµ­ì˜ ì—­ìŠµ",
            "concertDateTime": "2024-07-04T18:54:43.6158489",
            "description": "ê°œê¿€ì¼",
            "price": 15000,
            "seats": 50
          },
          "seat": {
            "id": 1,
            "concertId": 100,
            "seatNumber": 1,
            "status": "RESERVED",
            "updatedAt": "2024-07-04T18:54:43.6163492"
          },
          "createdAt": "2024-07-04T18:54:43.6163492",
          "status": "RESERVED"
        }
    },
    "success": true
}
  ```
